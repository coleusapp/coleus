import{a as h}from"./Header.vue_vue_type_script_setup_true_lang-F5-Of6Cr.js";import{d as k,j as w,e as A,w as m,q as C,f as D,g as O,b as B,y as _,z as b,A as T,B as P,C as x,D as y}from"./app-BRmlCTdU.js";const I=k({__name:"Form",props:{submit:{},form:{}},setup(t){return(c,s)=>{const e=h,a=w("FormKit");return B(),A(a,{type:"form",onSubmit:s[0]||(s[0]=(r,l)=>t.submit()(r,l)),plugins:[t.form.plugin]},{default:m(({value:r})=>[C(c.$slots,"default",{value:r})]),submit:m(()=>[C(c.$slots,"actions",{form:t.form},()=>[D(e,{type:"submit",disabled:t.form.processing.value},{default:m(()=>[...s[1]||(s[1]=[O("Save",-1)])]),_:1},8,["disabled"])])]),_:3},8,["plugins"])}}});var L=(t=>(t.STORE_SUCCESS="STORE_SUCCESS",t.UPDATE_SUCCESS="UPDATE_SUCCESS",t.DELETE_SUCCESS="DELETE_SUCCESS",t.ERROR="ERROR",t))(L||{});function R(t){switch(t){case"STORE_SUCCESS":return"Successfully created!";case"UPDATE_SUCCESS":return"Successfully updated!";case"DELETE_SUCCESS":return"Successfully deleted!";case"ERROR":return"Something went wrong!"}}function K(t,c=null){return{onSuccess:()=>_().add({title:c||R(t)})}}function V(t,c=null){return{onError:()=>_().add({title:c||R(t),color:"error"})}}var N=()=>{const t={};return{events:t,on:(e,a)=>{typeof t[e]>"u"&&(t[e]=[]),t[e]?.push(a)},run:(e,...a)=>{let r=Promise.resolve();for(const l of t[e]||[]){const u=l(...a);if(e==="before"&&typeof u=="boolean")return u;(e==="success"||e==="finish")&&(u instanceof Promise?r=u:r=Promise.resolve(u))}if(e==="success"||e==="finish")return r}}},$=(t,c)=>{const s=T({node:null,dirty:!1,errors:!1,valid:!1});return{state:s,addon:e=>{e("start",(a,r)=>{r.store.set(x({key:"loading",visible:!1,value:!0})),r.props.submitBehavior!=="live"&&(r.props.disabled=!0)}),e("error",(a,r)=>{const l=r.name;l in a&&(a[l],delete a[l]),r.setErrors(l,a)}),e("finish",(a,r)=>{r.store.remove("loading"),r.props.submitBehavior!=="live"&&(r.props.disabled=!1)})},plugin:e=>{if(e.props.type==="form")return s.node=e,t&&e.input(t),e.on("created",()=>{P(()=>{s.dirty=e.context.state.dirty,s.valid=e.context.state.valid,s.errors=e.context.state.errors})}),!1}}},F=(t=2e3)=>{let c;const s=T({processing:!1,progress:0,recentlySuccessful:!1,wasSuccessful:!1});return{state:s,addon:e=>{e("before",()=>{s.processing=!1,s.progress=0,s.recentlySuccessful=!1,s.wasSuccessful=!1,clearInterval(c)}),e("start",()=>{s.processing=!0}),e("progress",a=>{s.progress=a?.percentage||0}),e("success",()=>{s.recentlySuccessful=!0,s.wasSuccessful=!0,c=setTimeout(()=>{s.recentlySuccessful=!1},t)}),e("finish",()=>{s.processing=!1,s.progress=0})}}},q=(t,c)=>{const s=N(),{state:e,addon:a}=F(c?.recentlySuccessfulTimeoutTime),{state:r,addon:l,plugin:u}=$(t),S=o=>{Array.isArray(o)?o.forEach(n=>n(s.on)):o(s.on)};S(a),S(l);let d;S(o=>{o("cancelToken",n=>{d=n}),o("finish",()=>{d=void 0})});const f=(o,n,E)=>(v,U)=>{const g=Object.keys(s.events).map(i=>({[`on${i.charAt(0).toUpperCase()+i.slice(1)}`]:p=>i==="cancel"?s.run(i,p):s.run(i,p,U)})).reduce((i,p)=>({...i,...p}),{});o==="delete"?y.delete(n,{...g,...E,data:v}):y[o](n,v,{...g,...E})};return{submit:f,get:(o,n)=>f("get",o,n),post:(o,n)=>f("post",o,n),put:(o,n)=>f("put",o,n),patch:(o,n)=>f("patch",o,n),delete:(o,n)=>f("delete",o,n),cancel:()=>{d&&d.cancel()},...b(e),...b(r),on:s.on,addon:S,plugin:u}};export{L as T,I as _,K as a,V as o,q as u};
